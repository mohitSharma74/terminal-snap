#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running format check..."
npm run format:check
if [ $? -ne 0 ]; then
  echo "âŒ Format check failed. Run 'npm run format' to fix."
  exit 1
fi

echo "ğŸ” Running lint..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ Linting failed. Fix the issues and try again."
  exit 1
fi

echo "ğŸ” Running tests with coverage..."
npm run test:ci
if [ $? -ne 0 ]; then
  echo "âŒ Tests failed. Fix the failing tests and try again."
  exit 1
fi

echo "âœ… All checks passed! Ready to push."
exit 0
